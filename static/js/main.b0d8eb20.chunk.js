(this.webpackJsonppower=this.webpackJsonppower||[]).push([[0],{31:function(e,t,s){},32:function(e,t,s){},56:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s(1),n=s.n(r),c=s(24),i=s.n(c),o=(s(31),s(4)),l=s(5),d=s(7),h=s(6),m=(s(32),s(12),s(33),s(34),s(35),s(8)),u=s.n(m),b=s(9),j=s(3),g=s(10),p=s.n(g),O=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={isLoggedIn:!0},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"row navigations",children:[Object(a.jsx)("link",{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.7.0/css/all.css",integrity:"sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ",crossOrigin:"anonymous"}),Object(a.jsx)("div",{className:"col-md-12",children:Object(a.jsxs)("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark",children:[Object(a.jsx)("span",{className:"navbar-brand",children:"Potlako Consulting"}),Object(a.jsx)("ul",{className:"navbar-nav",children:Object(a.jsx)("div",{className:"MenuTrigure",children:Object(a.jsx)("i",{className:"fas fa-bars"})})}),Object(a.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(a.jsxs)("li",{className:" nav-item dropdown",children:[Object(a.jsxs)("span",{className:"nav-link dropdown-toggle",id:"navbardrop","data-toggle":"dropdown",children:[Object(a.jsx)("i",{className:"fas fa-cog"}),"  Settings"]}),Object(a.jsx)("div",{className:"dropdown-menu Settingsdrop",children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)("span",{children:"Profile"})}),Object(a.jsx)("li",{children:Object(a.jsx)("span",{children:"Logout"})})]})})]})})]})})]})})}}]),s}(n.a.Component),f=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"row footer",children:Object(a.jsx)("div",{className:"col-md-12",children:Object(a.jsx)("center",{children:Object(a.jsx)("p",{children:"Copyrights reserved \xa9 2020"})})})})}}]),s}(n.a.Component),v=s(25),x=s(13),w=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).fetch_report=function(){var e=Object(b.a)(u.a.mark((function e(t,s,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://www.rockstreet.co.za/requestPowerbi/index.php?groupId="+s+"&reportId="+t,{crossdomain:!0});case 2:"100"==(n=e.sent).data.status?a.setState({Session_reportID:t,Session_groupID:s,embedToken:n.data.Access_token,embedUrl:r}):a.setState({Session_reportID:"",Session_groupID:"",embedToken:""});case 4:case"end":return e.stop()}}),e)})));return function(t,s,a){return e.apply(this,arguments)}}(),a.state={Session_reportID:"",Session_groupID:"",embedToken:"",embedUrl:""},a.fetch_report=a.fetch_report.bind(Object(j.a)(a)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.fetch_report("224a57ca-a8b3-49cc-af86-7918e0f8777b","64624e88-b93c-40df-82f6-1bff548c6e0e","https://app.powerbi.com/reportEmbed?reportId=224a57ca-a8b3-49cc-af86-7918e0f8777b&groupId=64624e88-b93c-40df-82f6-1bff548c6e0e&autoAuth=true&ctid=4e2fdd07-ea4e-4627-aef3-5fe2a3c11139&config=eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly93YWJpLXNvdXRoLWFmcmljYS1ub3J0aC1hLXByaW1hcnktcmVkaXJlY3QuYW5hbHlzaXMud2luZG93cy5uZXQvIn0%3D")}},{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O,{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("center",{children:Object(a.jsx)("h1",{children:"Dashboard"})}),Object(a.jsx)(v.PowerBIEmbed,{embedConfig:{type:"report",id:this.state.Session_reportID,embedUrl:this.state.embedUrl,accessToken:this.state.embedToken,tokenType:x.models.TokenType.Embed},cssClassName:"report-style-class"})]}),Object(a.jsx)(f,{})]})}}]),s}(n.a.Component),N=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={userName:"",password:"",alert:"",message:"",emailErr:"",showEmailError:!1,showAlert:!1,BtnDisable:!1,isStage:"",changeStage:!1,successLogin:!1,sessionName:""},a.grantLogin=a.grantLogin.bind(Object(j.a)(a)),a.emailChange=a.emailChange.bind(Object(j.a)(a)),a.passChange=a.passChange.bind(Object(j.a)(a)),a.forgotPassword=a.forgotPassword.bind(Object(j.a)(a)),a.login=a.login.bind(Object(j.a)(a)),a.SetLogout=a.SetLogout.bind(Object(j.a)(a)),a}return Object(l.a)(s,[{key:"emailChange",value:function(e){var t=e.target.value;t.match("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,3}$")?this.setState({emailErr:"",showEmailError:!1,BtnDisable:!1,userName:t}):this.setState({emailErr:"Invalid email format",showEmailError:!0,BtnDisable:!0,userName:t})}},{key:"passChange",value:function(e){var t=e.target.value;this.setState({BtnDisable:!1,password:t})}},{key:"grantLogin",value:function(e){var t=this;if(""!==this.state.userName&&""!==this.state.password){this.state.userName.match("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,3}$")?this.setState({emailErr:"",showEmailError:!1,BtnDisable:!1,userName:this.state.userName}):this.setState({emailErr:"Invalid email format",showEmailError:!0,BtnDisable:!0,userName:this.state.userName});var s=function(){var e=Object(b.a)(u.a.mark((function e(){var s,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://www.rockstreet.co.za/requestPowerbi/login.php?username="+t.state.userName+"&password="+t.state.password,{crossdomain:!0});case 2:s=e.sent,"100"==(a=s.data)[0].status?(t.setState({successLogin:!0,isStage:"dashboard",changeStage:!0,message:"",alert:"",showAlert:!1,sessionName:a[0].data.username}),localStorage.setItem("LoggedIn",!0),localStorage.setItem("Username",t.state.userName)):t.setState({successLogin:!1,isStage:null,changeStage:!1,message:a[0].Message,alert:"alert alert-danger",showAlert:!0,sessionName:""});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();""!==this.state.userName&&""!==this.state.password?s():this.setState({message:"Invalid email/password credentials",alert:"alert alert-danger",showAlert:!0})}else this.setState({message:"Please provide your email address and password",alert:"alert alert-danger",showAlert:!0})}},{key:"forgotPassword",value:function(e){this.setState({isStage:"resetPassword",changeStage:!0})}},{key:"login",value:function(e){this.setState({changeStage:!1})}},{key:"SetLogout",value:function(){console.log("Logged out Now"),this.setState({isStage:"",changeStage:!1}),localStorage.removeItem("LoggedIn"),localStorage.removeItem("Username")}},{key:"render",value:function(){if(localStorage.getItem("LoggedIn"))return document.querySelector("body").style.background="white",Object(a.jsx)(w,{username:this.state.username});if(!this.state.changeStage)return Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-md-6 LoginColumn",children:[Object(a.jsx)("h1",{children:"Hi, Welcome."}),Object(a.jsx)("p",{className:this.state.alert,children:this.state.message}),Object(a.jsx)("div",{className:"panel panel-default loginForm",children:Object(a.jsxs)("div",{className:"panel-body",children:[Object(a.jsx)("h3",{children:"Sign in to your account"}),Object(a.jsx)("p",{children:"Complete the form below to sign in to your account"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("input",{type:"text",placeholder:"Email address",className:"form-control",value:this.state.userName,onChange:this.emailChange,id:"UserEmail",required:!0}),Object(a.jsx)("span",{className:"email_error",disabled:this.state.showEmailError,children:this.state.emailErr})]}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"password",placeholder:"Password",className:"form-control",value:this.state.password,onChange:this.passChange,id:"userPass",required:!0})}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("button",{disabled:this.state.BtnDisable,value:"Login",onClick:this.grantLogin,className:"btn btn-success form-control",name:"sign in",id:"SubmitBtn",children:"Sign in"})})]})}),Object(a.jsx)("p",{className:"passwordreset",onChange:this.state.forgotPassword,onClick:this.forgotPassword,children:"Forgot password?"})]})})});switch(this.state.isStage){case"resetPassword":return Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-md-6 LoginColumn",children:[Object(a.jsx)("h1",{children:"Forgot password"}),Object(a.jsx)("p",{className:this.state.alert,children:this.state.message}),Object(a.jsx)("div",{className:"panel panel-default loginForm",children:Object(a.jsxs)("div",{className:"panel-body",children:[Object(a.jsx)("h3",{children:"Reset your Password"}),Object(a.jsx)("p",{children:"Reset your account password"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("input",{type:"text",placeholder:"Email address",className:"form-control",value:this.state.userName,onChange:this.emailChange,id:"UserEmail",required:!0}),Object(a.jsx)("span",{className:"email_error",disabled:this.state.showEmailError,children:this.state.emailErr})]}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("button",{disabled:this.state.BtnDisable,value:"Login",onClick:this.grantLogin,className:"btn btn-warning form-control",name:"sign in",id:"SubmitBtn",children:"Reset password"})})]})}),Object(a.jsx)("p",{className:"Loginatempt",onChange:this.state.login,onClick:this.login,children:"Back to Login"})]})})});case"dashboard":return document.querySelector("body").style.background="white",Object(a.jsx)(w,{username:this.state.username})}}}]),s}(n.a.Component),S=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(N,{})})}}]),s}(n.a.Component),y=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,57)).then((function(t){var s=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,c=t.getTTFB;s(e),a(e),r(e),n(e),c(e)}))};i.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root")),y()}},[[56,1,2]]]);
//# sourceMappingURL=main.b0d8eb20.chunk.js.map